
2018-02-08 17:24:09 DEBUG    accept
2018-02-08 17:24:09 DEBUG    chosen server: 47.52.67.159:8081
2018-02-08 17:24:09 INFO     TCP Handler event: sock:9, event:1
sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52650)>
=======================START===========================
self._server: <shadowsocks.tcprelay.TCPRelay object at 0x10e3f4c50>
self._fd_to_handlers: {9: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>}
self._loop: <shadowsocks.eventloop.EventLoop object at 0x10ee7fa90>
self._local_sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52650)>
self._remote_sock: null
self._dns_resolver: <shadowsocks.asyncdns.DNSResolver object at 0x10ea4f748>
self._is_local: True
self._stage: 0
self._upstream_status: 1
self._downstream_status: 0
self._client_address: ('127.0.0.1', 52650)
self._remote_address: null
self._chosen_server: ('47.52.67.159', 8081)
=======================END===========================
_on_local_read=========data: b'\x05\x02\x00\x02'
2018-02-08 17:24:10 INFO     TCP Handler event: sock:9, event:1
sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52650)>
=======================START===========================
self._server: <shadowsocks.tcprelay.TCPRelay object at 0x10e3f4c50>
self._fd_to_handlers: {9: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>}
self._loop: <shadowsocks.eventloop.EventLoop object at 0x10ee7fa90>
self._local_sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52650)>
self._remote_sock: null
self._dns_resolver: <shadowsocks.asyncdns.DNSResolver object at 0x10ea4f748>
self._is_local: True
self._stage: 1
self._upstream_status: 1
self._downstream_status: 1
self._client_address: ('127.0.0.1', 52650)
self._remote_address: null
self._chosen_server: ('47.52.67.159', 8081)
=======================END===========================
_on_local_read=========data: b'\x05\x01\x00\x03\x11www.google.com.hk\x01\xbb'
data: b'\x03\x11www.google.com.hk\x01\xbb'
addrtype: 3
data[1]: 17
2018-02-08 17:24:10 INFO     connecting www.google.com.hk:443 from 127.0.0.1:52650

--------------->_handle_dns_resolved<----------------

result: (b'47.52.67.159', b'47.52.67.159')
2018-02-08 17:24:10 INFO     TCP Handler event: sock:10, event:4
sock: <socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.222.9.19', 52651), raddr=('47.52.67.159', 8081)>
=======================START===========================
self._server: <shadowsocks.tcprelay.TCPRelay object at 0x10e3f4c50>
self._fd_to_handlers: {9: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>, 10: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>}
self._loop: <shadowsocks.eventloop.EventLoop object at 0x10ee7fa90>
self._local_sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52650)>
self._remote_sock: <socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.222.9.19', 52651), raddr=('47.52.67.159', 8081)>
self._dns_resolver: <shadowsocks.asyncdns.DNSResolver object at 0x10ea4f748>
self._is_local: True
self._stage: 4
self._upstream_status: 3
self._downstream_status: 1
self._client_address: ('127.0.0.1', 52650)
self._remote_address: ('www.google.com.hk', 443)
self._chosen_server: ('47.52.67.159', 8081)
=======================END===========================
------->_on_remote_write<--------senddata b'\x8b\x1e\xf1/\xc8\x92V\xec\xc6.\xd4\x06\xc4\xba\x16\xd9[S\xc5T\xe9D\xcd_\xc2Q\xf7RQ\x90\xc2\xd2\xe6[1\xdd\x8a'
2018-02-08 17:24:20 INFO     TCP Handler event: sock:10, event:1
sock: <socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.222.9.19', 52651), raddr=('47.52.67.159', 8081)>
=======================START===========================
self._server: <shadowsocks.tcprelay.TCPRelay object at 0x10e3f4c50>
self._fd_to_handlers: {9: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>, 10: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>}
self._loop: <shadowsocks.eventloop.EventLoop object at 0x10ee7fa90>
self._local_sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52650)>
self._remote_sock: <socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.222.9.19', 52651), raddr=('47.52.67.159', 8081)>
self._dns_resolver: <shadowsocks.asyncdns.DNSResolver object at 0x10ea4f748>
self._is_local: True
self._stage: 5
self._upstream_status: 1
self._downstream_status: 1
self._client_address: ('127.0.0.1', 52650)
self._remote_address: ('www.google.com.hk', 443)
self._chosen_server: ('47.52.67.159', 8081)
=======================END===========================
2018-02-08 17:24:20 DEBUG    destroy: www.google.com.hk:443
2018-02-08 17:24:20 DEBUG    destroying remote
2018-02-08 17:24:20 DEBUG    destroying local
2018-02-08 17:26:59 DEBUG    accept
2018-02-08 17:26:59 DEBUG    chosen server: 47.52.67.159:8081
2018-02-08 17:26:59 INFO     TCP Handler event: sock:9, event:1
sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52655)>
=======================START===========================
self._server: <shadowsocks.tcprelay.TCPRelay object at 0x10e3f4c50>
self._fd_to_handlers: {9: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>}
self._loop: <shadowsocks.eventloop.EventLoop object at 0x10ee7fa90>
self._local_sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52655)>
self._remote_sock: null
self._dns_resolver: <shadowsocks.asyncdns.DNSResolver object at 0x10ea4f748>
self._is_local: True
self._stage: 0
self._upstream_status: 1
self._downstream_status: 0
self._client_address: ('127.0.0.1', 52655)
self._remote_address: null
self._chosen_server: ('47.52.67.159', 8081)
=======================END===========================
_on_local_read=========data: b'\x05\x02\x00\x02'
2018-02-08 17:27:00 INFO     TCP Handler event: sock:9, event:1
sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52655)>
=======================START===========================
self._server: <shadowsocks.tcprelay.TCPRelay object at 0x10e3f4c50>
self._fd_to_handlers: {9: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>}
self._loop: <shadowsocks.eventloop.EventLoop object at 0x10ee7fa90>
self._local_sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52655)>
self._remote_sock: null
self._dns_resolver: <shadowsocks.asyncdns.DNSResolver object at 0x10ea4f748>
self._is_local: True
self._stage: 1
self._upstream_status: 1
self._downstream_status: 1
self._client_address: ('127.0.0.1', 52655)
self._remote_address: null
self._chosen_server: ('47.52.67.159', 8081)
=======================END===========================
_on_local_read=========data: b'\x05\x01\x00\x03\x11www.google.com.hk\x01\xbb'
data: b'\x03\x11www.google.com.hk\x01\xbb'
addrtype: 3
data[1]: 17
2018-02-08 17:27:00 INFO     connecting www.google.com.hk:443 from 127.0.0.1:52655

--------------->_handle_dns_resolved<----------------

result: (b'47.52.67.159', b'47.52.67.159')
2018-02-08 17:27:00 INFO     TCP Handler event: sock:10, event:4
sock: <socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.222.9.19', 52656), raddr=('47.52.67.159', 8081)>
=======================START===========================
self._server: <shadowsocks.tcprelay.TCPRelay object at 0x10e3f4c50>
self._fd_to_handlers: {9: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>, 10: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>}
self._loop: <shadowsocks.eventloop.EventLoop object at 0x10ee7fa90>
self._local_sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52655)>
self._remote_sock: <socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.222.9.19', 52656), raddr=('47.52.67.159', 8081)>
self._dns_resolver: <shadowsocks.asyncdns.DNSResolver object at 0x10ea4f748>
self._is_local: True
self._stage: 4
self._upstream_status: 3
self._downstream_status: 1
self._client_address: ('127.0.0.1', 52655)
self._remote_address: ('www.google.com.hk', 443)
self._chosen_server: ('47.52.67.159', 8081)
=======================END===========================
------->_on_remote_write<--------senddata b'\xb8\xdc~\xbd1\x05\xb2!wl\x1e\xd1\x07\x80l\xc0\xb47\xe4\x8e+1\x05 w\x19\xfc\xbe\xdca*\x1d\x18\x91Djx'
2018-02-08 17:27:10 INFO     TCP Handler event: sock:10, event:1
sock: <socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.222.9.19', 52656), raddr=('47.52.67.159', 8081)>
=======================START===========================
self._server: <shadowsocks.tcprelay.TCPRelay object at 0x10e3f4c50>
self._fd_to_handlers: {9: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>, 10: <shadowsocks.tcprelay.TCPRelayHandler object at 0x10ee7fb00>}
self._loop: <shadowsocks.eventloop.EventLoop object at 0x10ee7fa90>
self._local_sock: <socket.socket fd=9, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 1082), raddr=('127.0.0.1', 52655)>
self._remote_sock: <socket.socket fd=10, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('10.222.9.19', 52656), raddr=('47.52.67.159', 8081)>
self._dns_resolver: <shadowsocks.asyncdns.DNSResolver object at 0x10ea4f748>
self._is_local: True
self._stage: 5
self._upstream_status: 1
self._downstream_status: 1
self._client_address: ('127.0.0.1', 52655)
self._remote_address: ('www.google.com.hk', 443)
self._chosen_server: ('47.52.67.159', 8081)
=======================END===========================
2018-02-08 17:27:10 DEBUG    destroy: www.google.com.hk:443
2018-02-08 17:27:10 DEBUG    destroying remote
2018-02-08 17:27:10 DEBUG    destroying local
